package com.winbee.vasantvalleyschool.Ui;import android.os.Bundle;import androidx.fragment.app.Fragment;import androidx.recyclerview.widget.RecyclerView;import android.view.LayoutInflater;import android.view.View;import android.view.ViewGroup;import android.widget.RelativeLayout;import android.widget.TextView;import android.widget.Toast;import com.winbee.vasantvalleyschool.Adapter.AllLiveClassAdapter;import com.winbee.vasantvalleyschool.Models.LiveClassModel;import com.winbee.vasantvalleyschool.R;import com.winbee.vasantvalleyschool.RetrofitApiCall.ApiClient;import com.winbee.vasantvalleyschool.Utils.ProgressBarUtil;import com.winbee.vasantvalleyschool.Utils.SharedPrefManager;import com.winbee.vasantvalleyschool.WebApi.ClientApi;import java.util.ArrayList;import retrofit2.Call;import retrofit2.Callback;import retrofit2.Response;public class LiveClassFragment extends Fragment {    String UserId;    private ArrayList<LiveClassModel> liveList;    private RecyclerView video_list_recycler;    private ProgressBarUtil progressBarUtil;    private AllLiveClassAdapter adapter;    private RelativeLayout myLive;    private TextView nocourse;    public LiveClassFragment() {        // Required empty public constructor    }    @Override    public View onCreateView(LayoutInflater inflater, ViewGroup container,                             Bundle savedInstanceState) {        // Inflate the layout for this fragment        return inflater.inflate(R.layout.fragment_live_class, container, false);    }    @Override    public void onViewCreated(View view, Bundle savedInstanceState) {        UserId= SharedPrefManager.getInstance(getContext()).refCode().getUserId();        progressBarUtil   =  new ProgressBarUtil(getContext());        video_list_recycler = view.findViewById(R.id.all_liveClasses);        nocourse = view.findViewById(R.id.nocourse);        callLiveApiService();    }    private void callLiveApiService() {        progressBarUtil.showProgress();        ClientApi apiCAll = ApiClient.getClient().create(ClientApi.class);        Call<ArrayList<LiveClassModel>> call = apiCAll.getLive("WB_007",UserId,3);        call.enqueue(new Callback<ArrayList<LiveClassModel>>() {            @Override            public void onResponse(Call<ArrayList<LiveClassModel>> call, Response<ArrayList<LiveClassModel>> response) {                int statusCode = response.code();                liveList = new ArrayList();                if(statusCode==200){                    if (response.body()!=null) {                        System.out.println("Suree body: " + response.body());                        liveList = response.body();                        adapter = new AllLiveClassAdapter(getActivity(), liveList);                        video_list_recycler.setAdapter(adapter);                        progressBarUtil.hideProgress();                    }else{                        nocourse.setVisibility(View.VISIBLE);                        progressBarUtil.hideProgress();                    }                }                else{                    System.out.println("Suree: response code"+response.message());                    Toast.makeText(getContext(),"Ã‹rror due to" + response.message(),Toast.LENGTH_SHORT).show();                }            }            @Override            public void onFailure(Call<ArrayList<LiveClassModel>> call, Throwable t) {                Toast.makeText(getContext(),"Failed" + t.getMessage(),Toast.LENGTH_SHORT).show();                System.out.println("Suree: Error "+t.getMessage());            }        });    }}